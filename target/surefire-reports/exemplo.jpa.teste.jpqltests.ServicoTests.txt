-------------------------------------------------------------------------------
Test set: exemplo.jpa.teste.jpqltests.ServicoTests
-------------------------------------------------------------------------------
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.613 s <<< FAILURE! -- in exemplo.jpa.teste.jpqltests.ServicoTests
exemplo.jpa.teste.jpqltests.ServicoTests -- Time elapsed: 0.612 s <<< ERROR!
java.lang.RuntimeException: Exception processing table name='TB_TELEFONE'
	at exemplo.jpa.teste.DbUnitUtil.inserirDados(DbUnitUtil.java:49)
	at exemplo.jpa.teste.jpqltests.GenericTest.setUpClass(GenericTest.java:38)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.dbunit.DatabaseUnitException: Exception processing table name='TB_TELEFONE'
	at org.dbunit.operation.AbstractBatchOperation.execute(AbstractBatchOperation.java:240)
	at org.dbunit.operation.CompositeOperation.execute(CompositeOperation.java:79)
	at exemplo.jpa.teste.DbUnitUtil.inserirDados(DbUnitUtil.java:42)
	... 19 more
Caused by: org.apache.derby.shared.common.error.DerbySQLIntegrityConstraintViolationException: INSERT na tabela 'TB_TELEFONE' causou uma violação na restrição de chave estrangeira 'TBTELEFONEDUSUARIO' para a chave (1).  A instrução foi desfeita.
	at org.apache.derby.client.am.SQLExceptionFactory.getSQLException(SQLExceptionFactory.java:85)
	at org.apache.derby.client.am.SqlException.getSQLException(SqlException.java:325)
	at org.apache.derby.client.am.ClientPreparedStatement.execute(ClientPreparedStatement.java:1616)
	at org.dbunit.database.statement.SimplePreparedStatement.addBatch(SimplePreparedStatement.java:85)
	at org.dbunit.database.statement.AutomaticPreparedBatchStatement.addBatch(AutomaticPreparedBatchStatement.java:70)
	at org.dbunit.operation.AbstractBatchOperation.execute(AbstractBatchOperation.java:224)
	... 21 more
Caused by: ERROR 23503: INSERT na tabela 'TB_TELEFONE' causou uma violação na restrição de chave estrangeira 'TBTELEFONEDUSUARIO' para a chave (1).  A instrução foi desfeita.
	at org.apache.derby.client.am.ClientStatement.completeExecute(ClientStatement.java:1868)
	at org.apache.derby.client.net.NetStatementReply.parseEXCSQLSTTreply(NetStatementReply.java:323)
	at org.apache.derby.client.net.NetStatementReply.readExecute(NetStatementReply.java:72)
	at org.apache.derby.client.net.StatementReply.readExecute(StatementReply.java:59)
	at org.apache.derby.client.net.NetPreparedStatement.readExecute_(NetPreparedStatement.java:167)
	at org.apache.derby.client.am.ClientPreparedStatement.readExecute(ClientPreparedStatement.java:1844)
	at org.apache.derby.client.am.ClientPreparedStatement.flowExecute(ClientPreparedStatement.java:2133)
	at org.apache.derby.client.am.ClientPreparedStatement.executeX(ClientPreparedStatement.java:1622)
	at org.apache.derby.client.am.ClientPreparedStatement.execute(ClientPreparedStatement.java:1607)
	... 24 more

